# Example Checkwise Configuration
# This file demonstrates proper validation and error handling

checklists:
  # Frontend changes - comprehensive validation
  - when: 
      - "src/**/*.{tsx,jsx,vue}"
      - "components/**/*.{tsx,jsx,vue}"
      - "styles/**/*.{css,scss,sass}"
    require:
      - "ğŸ–¼ï¸ Screenshot prima/dopo allegato"
      - "â™¿ Test di accessibility eseguiti (ARIA, contrast)"
      - "ğŸ“± Testato su mobile e desktop"
      - "ğŸ”— Issue/ticket linkato nella descrizione"

  # Backend API changes
  - when:
      - "api/**/*.ts"
      - "src/routes/**/*.ts"
      - "**/*api*.ts"
    require:
      - "ğŸ“š Documentazione API aggiornata"
      - "ğŸ”„ Backward compatibility verificata"
      - "âš¡ Rate limiting considerato"
      - "ğŸ§ª Test di carico eseguiti se necessario"

  # Database migrations
  - when:
      - "db/migrations/**"
      - "prisma/migrations/**"
      - "**/*.sql"
    require:
      - "ğŸ“‹ Piano di rollback documentato"
      - "ğŸ”„ Backfill/cleanup pianificato se necessario"
      - "ğŸ§ª Testato su dataset di staging"
      - "ğŸ‘¥ Review DBA richiesta (@db-team)"

  # Infrastructure changes
  - when:
      - "infra/**/*.tf"
      - "terraform/**"
      - "*.tf"
      - "k8s/**/*.yaml"
      - "docker/**"
    require:
      - "ğŸ“Š `terraform plan` incollato negli artifacts"
      - "ğŸ’° Impatto sui costi stimato"
      - "ğŸ”™ Plan di rollback infra definito"
      - "ğŸ‘¥ Review DevOps approvata (@devops-team)"

  # Security-sensitive areas
  - when:
      - "auth/**"
      - "security/**"
      - "**/*auth*.ts"
      - "middleware/security/**"
    require:
      - "ğŸ”’ Security review richiesta (@security-team)"
      - "ğŸ” Test di penetrazione eseguiti"
      - "ğŸ“ Logging di audit implementato"
      - "âœ… Compliance verificata"

# Advanced options for fine-tuned control
options:
  # Only apply to feature branches
  branch_pattern: "feature/*"
  
  # Filter by PR labels
  label_filter: 
    - "enhancement"
    - "feature"
    - "bugfix"
  
  # Custom header for the generated comment
  comment_header: "ğŸš€ **Team Checklist Review**"
